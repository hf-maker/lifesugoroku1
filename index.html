<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>äººç”Ÿã™ã”ã‚ã</title>
  <style>
    body { font-family: sans-serif; }
    #game { display: none; }
    button { font-size: 16px; padding: 10px; }
  </style>
</head>
<body>

<!-- æº–å‚™ç”»é¢ -->
<div id="setup">
  <p>äººæ•°ã‚’ãˆã‚‰ã‚“ã§ã­</p>
  <select id="playerCount">
    <option value="2">2äºº</option>
    <option value="3">3äºº</option>
    <option value="4">4äºº</option>
    <option value="5">5äºº</option>
  </select>
  <br><br>
  <!-- â˜…ã“ã‚ŒãŒæ­£ã—ã„ã‚²ãƒ¼ãƒ é–‹å§‹ãƒœã‚¿ãƒ³ -->
  <button id="startBtn" onclick="startGame()">ã‚²ãƒ¼ãƒ é–‹å§‹</button>
</div>

<!-- ã‚²ãƒ¼ãƒ ç”»é¢ -->
<div id="game">
  <p id="turn"></p>
  <button id="diceBtn" onclick="rollDice()">ã‚µã‚¤ã‚³ãƒ­ã‚’ãµã‚‹</button>
  <div id="log"></div>
</div>

<script>
  const START = 20;
  const GOAL = 65;

  let players = [];
  let current = 0;

  // â˜… ã‚²ãƒ¼ãƒ é–‹å§‹
  function startGame() {
    players = [];
    current = 0;

    const count = parseInt(document.getElementById('playerCount').value);
    const icons = ['ğŸ˜€','ğŸ˜','ğŸ‘§','ğŸ§‘','ğŸ¤–'];

    for (let i = 0; i < count; i++) {
      players.push({ icon: icons[i], age: START });
    }

    document.getElementById('setup').style.display = 'none';
    document.getElementById('game').style.display = 'block';

    updateTurn();
    log('ğŸ® ã‚²ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆï¼');
  }

  // â˜… ã‚µã‚¤ã‚³ãƒ­
  function rollDice() {
    const dice = Math.floor(Math.random() * 6) + 1;
    const p = players[current];
    p.age += dice;

    log(p.icon + ' ãŒ ' + dice + ' é€²ã‚“ã  â†’ ' + p.age + 'æ­³');

    if (p.age >= GOAL) {
      p.age = GOAL;
      log(p.icon + ' ã‚´ãƒ¼ãƒ«ï¼');
    }

    current = (current + 1) % players.length;
    updateTurn();
  }

  function updateTurn() {
    document.getElementById('turn').textContent =
      players[current].icon + ' ã®ç•ª';
  }

  function log(text) {
    document.getElementById('log').innerHTML += text + '<br>';
  }
</script>

</body>
</html>
